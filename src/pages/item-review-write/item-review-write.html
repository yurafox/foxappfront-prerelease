<ion-header>
  <main-toolbar></main-toolbar>
</ion-header>
<ion-content>
  <div *ngIf="product || store">
    <ion-grid id="grid">
      <ion-row>
        <ion-col class="f-item-section-header"><span loc="Ваш отзыв" name="YourReview">{{locale['YourReview']}}</span>
        </ion-col>
      </ion-row>

      <ion-row>
        <ion-col col-auto no-padding *ngIf="product">
          <div>
            <img *ngIf="product?.imageUrl" class="f-img-item" [src]="product?.imageUrl"
                 onError="this.src='assets/imgs/nophoto.png';">
            <img *ngIf="!product?.imageUrl" class="f-img-item" src="assets/imgs/nophoto.png">

          </div>
        </ion-col>
        <ion-col no-padding>
          <ion-grid class="f-item-nopadding">
            <ion-row>
              <ion-col no-padding class="f-item-padding-bottom" *ngIf="product">
                {{product?.name}}
              </ion-col>
              <ion-col no-padding class="f-item-padding-bottom" class="f-size-large" *ngIf="store">
                <span><span loc="Магазин по адресу" name="StoreByAddress">{{locale['StoreByAddress']}}</span>: </span><br><span>{{store?.address}}</span>
              </ion-col>
            </ion-row>

            <ion-row>
              <ion-col nowrap no-padding class="f-item-padding-bottom">
                <rating id="rating" [(ngModel)]="rating">
                </rating>
              </ion-col>
            </ion-row>
          </ion-grid>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col class="f-size-larger f-padding-5 f-border-ligthgray">
          <textarea placeholder="{{locale['WriteYourReview'] ? locale['WriteYourReview'] : 'Напишите свой отзыв здесь'}}" 
                        rows="2" 
                        [(ngModel)]="reviewText"
                        (input)="adjustTextarea($event)"
                        (focus)="addPaddingBottom()"
                        (focusout)="removePaddingBottom()"></textarea>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col class="f-size-larger f-padding-5 f-border-ligthgray">
          <textarea placeholder="{{locale['WriteAdvantages'] ? locale['WriteAdvantages'] : 'Преимущества'}}" 
                        rows="2" 
                        [(ngModel)]="advantages"
                        (input)="adjustTextarea($event)"
                        (focus)="addPaddingBottom()"
                        (focusout)="removePaddingBottom()"></textarea>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col class="f-size-larger f-padding-5 f-border-ligthgray">
          <textarea placeholder="{{locale['WriteDisadvantages'] ? locale['WriteDisadvantages'] : 'Недостатки'}}" 
                        rows="2" 
                        [(ngModel)]="disadvantages"
                        (input)="adjustTextarea($event)"
                        (focus)="addPaddingBottom()"
                        (focusout)="removePaddingBottom()"></textarea>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col>
          <button class="f-btn-action" ion-button block (click)="onSubmitClick()"
                  [attr.disabled]="((reviewText && reviewText.trim().length < 3) || !reviewText || (submitted === true)) ? '' : null">
            <span loc="Отправить" name="Submit">{{locale['Submit']}}</span>
          </button>
        </ion-col>
      </ion-row>
    </ion-grid>
  </div>
</ion-content>
