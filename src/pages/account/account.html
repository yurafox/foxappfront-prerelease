<ion-header>
  <main-toolbar></main-toolbar>
</ion-header>

<ion-content padding class="outer-content">
  <div class="contentWrapper">
    <ion-list class="list-form" *ngIf="onLoad">
      <!--error message block-->
      <ion-item class='alertDanger' *ngIf="verifyErrorData?.errorShow">
        <span>{{verifyErrorData.errorMessage}}</span>
      </ion-item>

      <form [formGroup]='editForm'>
        <ion-item *ngIf='!!(userService.errorMessages[edit])' class='alertDanger'>
          <span>{{userService.errorMessages[edit]}}</span>
        </ion-item>

        <div class="contentBlock">
            <span loc="Электронная почта*" name="Email" class="lblTxt">{{locale['Email'] || 'Электронная почта*'}}</span>
        </div>  
          <input type="text" placeholder="{{locale['Email'] ? locale['Email'] : 'Электронная почта*'}}" formControlName="email"/>
        <ion-item class='alertDanger' *ngIf="formErrors.email">
          <span>{{formErrors.email}}</span>
        </ion-item>

        <div class="contentBlock">
            <span loc="Имя*" name="Name" class="lblTxt">{{locale['Name'] || 'Имя*'}}</span>
        </div>       
        <input type="text" placeholder="{{locale['Name'] ? locale['Name'] : 'Имя*'}}" formControlName="fname"/>
    
        <ion-item class='alertDanger' *ngIf="formErrors.fname">
          <span>{{formErrors.fname}}</span>
        </ion-item>
        
        <div class="contentBlock">
            <span loc="Фамилия*" name="Surname" class="lblTxt">{{locale['Surname'] || 'Фамилия*'}}</span>
        </div>
          <input type="text" placeholder="{{locale['Surname'] ? locale['Surname'] : 'Фамилия*'}}" formControlName="lname"/>
    
        <ion-item class='alertDanger' *ngIf="formErrors.lname">
          <span>{{formErrors.lname}}</span>
        </ion-item>
        
        <div class="contentBlock contentFl">
            <div>
              <span loc="Валюта" name="Currency" class="lblTxt">{{locale['Currency'] || 'Валюта'}}</span>
            </div>
            <dropdown-list [reference]="currentCurrency" 
                           [store]="currencies"
                           [map]="{valueName:'id',displayName:'shortName'}"
                           [afterUpdate]="currencyUpdate"
                           [options]="{popupHeader:locale['Currency']}">
            </dropdown-list>
          </div>
  
  
          <div class="contentBlock contentFr">
              <span loc="Локализация" name="Localization" class="lblTxt">{{locale['Localization'] || 'Локализация'}}</span>
              <dropdown-list [reference]="currentLang"
                             [store]="langs"
                             [map]="{valueName:'id',displayName:'name'}"
                             [afterUpdate]="langUpdate"
                             [options]="{popupHeader:locale['Localization']}">
              </dropdown-list>
          </div>     
          <div style="clear: both"></div>
        
        <div class="btnAction">
          <button [disabled]="checkDisabled()" (click)="edit()">
            <span class="btnTxt" loc="Применить" name="Apply">{{locale['Apply'] || 'Применить'}}</span>
          </button>
        </div>
      </form>

    </ion-list>
  </div>
</ion-content>