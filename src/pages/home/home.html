<ion-header #header>
  <main-toolbar [showSearchButton]="false" [host]="this"></main-toolbar>
  <search-btn #srch [hostPage]="this" (click)="onSearchClick()"></search-btn>
  <progress-bar *ngIf="pageMode === 3" [active]="srchService.inSearch"></progress-bar>
  <filter #filter *ngIf="(pageMode === 3) && (srchService.products)" [srch]="srchService"></filter>
</ion-header>

<ion-content #cont>
  <div class="f-bkg-div">
    <!--
    <ion-refresher (ionRefresh)="doRefresh($event)" [snapbackDuration]="1000" [closeDuration]="1000">
      <ion-refresher-content
        pullingIcon="ios-refresh-outline"
        refreshingSpinner="circles">
      </ion-refresher-content>
    </ion-refresher>
  -->

    <div *ngIf="(pageMode === 1)" class="slides-banner-container">
      <sliding-banner></sliding-banner>
    </div>

    <div *ngIf="content && !userService.userMutex && (pageMode === 1)">
      <div class="f-div-card">
        <category-btn></category-btn>
      </div>
      <html-outlet [html]='content' [context]="this"></html-outlet>
    </div>

    <div class="f-div-card" *ngIf="pageMode === 2">
      <ion-item *ngFor="let sItem of searchButtonControl.srchItemsArr; let i=index" (click)="search(sItem.itemText)">
        <ion-icon class="f-item-gray" *ngIf="sItem.isClosable" name="md-close" item-left (click)="deleteSearchItem($event, i)"></ion-icon>
        <div [ngClass]="sItem.isClosable ? 'f-color-info' : 'f-product'">
          <span [innerHTML]="sItem.itemDisplayText"> </span>
        </div>
        <ion-icon class="f-item-gray" name="arrow-up-left" item-right></ion-icon>
      </ion-item>
    </div>

    <div class="f-div-card" *ngIf="pageMode === 3">
      <items-list #itemsList [parentControl]="this"></items-list>
    </div>
  </div>
</ion-content>